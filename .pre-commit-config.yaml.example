# Example pre-commit configuration for Antimoji
# Copy this to .pre-commit-config.yaml and customize as needed

repos:
  # Other standard hooks
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.4.0
    hooks:
      - id: trailing-whitespace
      - id: end-of-file-fixer
      - id: check-yaml
      - id: check-added-large-files

  # Antimoji hooks for emoji linting
  - repo: local
    hooks:
      # Strict emoji linting for source code
      - id: antimoji-lint-strict
        name: Antimoji Strict Linter
        description: Fail if any emojis found in source code files
        entry: bin/antimoji scan --threshold=0 --ignore-allowlist --quiet
        language: system
        files: \.(go|js|ts|jsx|tsx|py|rb|java|c|cpp|h|hpp|rs|php|swift|kt|scala)$
        exclude: |
          (?x)^(
            .*_test\.|
            .*/test/.*|
            .*/tests/.*|
            .*/testdata/.*|
            .*/fixtures/.*|
            .*/mocks/.*|
            vendor/.*|
            dist/.*|
            bin/.*
          )$
        pass_filenames: true

      # Configuration-based linting (uses .antimoji.yaml)
      - id: antimoji-lint-config
        name: Antimoji Config Linter
        description: Check files using antimoji configuration
        entry: bin/antimoji scan --config=.antimoji.yaml --profile=ci-lint --threshold=0 --quiet
        language: system
        files: \.(go|js|ts|jsx|tsx|py|rb|java|c|cpp|h|hpp|rs|php|swift|kt|scala)$
        exclude: |
          (?x)^(
            .*_test\.|
            .*/test/.*|
            .*/tests/.*|
            .*/testdata/.*|
            .*/fixtures/.*|
            .*/mocks/.*|
            vendor/.*|
            dist/.*|
            bin/.*
          )$
        pass_filenames: true

      # Documentation emoji checking (more permissive)
      - id: antimoji-docs
        name: Antimoji Documentation Checker
        description: Check documentation for excessive emoji usage
        entry: bin/antimoji scan --threshold=10 --quiet
        language: system
        files: \.(md|rst|txt)$
        exclude: |
          (?x)^(
            vendor/.*|
            dist/.*|
            bin/.*|
            \.git/.*
          )$
        pass_filenames: true

  # For external projects using antimoji from GitHub releases
  # - repo: https://github.com/jamesainslie/antimoji
  #   rev: v0.9.0  # Use the latest release tag
  #   hooks:
  #     - id: antimoji-lint
  #       files: \.(go|js|ts|jsx|tsx|py|rb|java|c|cpp|h|hpp|rs|php|swift|kt|scala)$
  #       exclude: .*_test\.|.*/test/.*
  #     - id: antimoji-docs
  #       files: \.(md|rst|txt)$
